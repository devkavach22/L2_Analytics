<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            background: #181733;
            margin: 40px;
            color: #E6E6E6;
        }
        h1 {
            color: #4D9FFF;
            border-bottom: 2px solid #4D9FFF;
            padding-bottom: 10px;
        }
        h2 {
            color: #4D9FFF;
            margin-top: 32px;
        }
        h3 { color: #A0C7FF; }
        .section {
            background: #222;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid #2b2b2b;
        }
        .finding {
            border-left: 4px solid #4D9FFF;
            padding-left: 12px;
            margin-bottom: 20px;
        }
        .kpi-table {
            width: 100%; border-collapse: collapse;
        }
        .kpi-table th {
            background: #4D9FFF; color: #000; padding: 10px;
        }
        .kpi-table td {
            padding: 10px;
            background: #2a2a2a;
            border-bottom: 1px solid #444;
        }
    </style>
</head>
<body>

<h1>ðŸ¤– {{ report.title }}</h1>

<div class="section">
    <h2>Executive Summary</h2>
    <p>{{ report.executive_summary }}</p>
</div>

<div class="section">
    <h2>Key Findings</h2>
    {% for f in report.key_findings %}
    <div class="finding">
        <h3>{{ f.title }} ({{ f.severity }})</h3>
        <p>{{ f.description }}</p>
    </div>
    {% endfor %}
</div>

<div class="section">
    <h2>KPIs</h2>
    <table class="kpi-table">
        <tr><th>Name</th><th>Value</th><th>Unit</th><th>Interpretation</th></tr>
        {% for k in report.kpis %}
        <tr>
            <td>{{ k.name }}</td>
            <td>{{ k.value }}</td>
            <td>{{ k.unit }}</td>
            <td>{{ k.interpretation }}</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% if report.cognitive_insights %}
<div class="section"><h2>Cognitive Insights</h2><p>{{ report.cognitive_insights }}</p></div>
{% endif %}

{% if report.sentiment_trends %}
<div class="section"><h2>Sentiment Trends</h2><pre>{{ report.sentiment_trends | tojson(indent=2) }}</pre></div>
{% endif %}

<div class="section">
    <h2>Recommendations</h2>
    <ul>{% for r in report.recommendations %}<li>{{ r }}</li>{% endfor %}</ul>
</div>

</body>
</html>
