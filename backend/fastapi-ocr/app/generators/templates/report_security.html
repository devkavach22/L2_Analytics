<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background: #F0F4FA;
            margin: 40px;
            color: #0A1A2F;
        }
        h1 {
            color: #0096FF;
            border-bottom: 3px solid #0096FF;
            padding-bottom: 10px;
        }
        h2 { color: #0096FF; margin-top: 32px; }
        h3 { color: #0A1A2F; }
        .section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .finding {
            border-left: 4px solid #0096FF;
            padding-left: 12px;
            margin-bottom: 18px;
        }
        .kpi-table {
            width: 100%;
            border-collapse: collapse;
        }
        .kpi-table th {
            background: #0096FF;
            color: white;
            padding: 8px;
        }
        .kpi-table td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            background: #ffffff;
        }
    </style>
</head>
<body>

<h1>üîê {{ report.title }}</h1>

<div class="section">
    <h2>Executive Summary</h2>
    <p>{{ report.executive_summary }}</p>
</div>

<div class="section">
    <h2>Key Findings</h2>
    {% for f in report.key_findings %}
    <div class="finding">
        <h3>{{ f.title }} ({{ f.severity }})</h3>
        <p>{{ f.description }}</p>
        {% if f.evidence %}
            <p><strong>Evidence:</strong> {{ f.evidence }}</p>
        {% endif %}
    </div>
    {% endfor %}
</div>

<div class="section">
    <h2>KPIs</h2>
    <table class="kpi-table">
        <tr><th>Name</th><th>Value</th><th>Unit</th><th>Interpretation</th></tr>
        {% for k in report.kpis %}
        <tr>
            <td>{{ k.name }}</td>
            <td>{{ k.value }}</td>
            <td>{{ k.unit }}</td>
            <td>{{ k.interpretation }}</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% if report.risk_summary %}
<div class="section"><h2>Risk Analysis</h2><p>{{ report.risk_summary }}</p></div>
{% endif %}

{% if report.cognitive_insights %}
<div class="section"><h2>Cognitive Insights</h2><p>{{ report.cognitive_insights }}</p></div>
{% endif %}

{% if report.sentiment_trends %}
<div class="section"><h2>Sentiment Trends</h2><pre>{{ report.sentiment_trends | tojson(indent=2) }}</pre></div>
{% endif %}

<div class="section">
    <h2>Recommendations</h2>
    <ul>{% for r in report.recommendations %}<li>{{ r }}</li>{% endfor %}</ul>
</div>

</body>
</html>
