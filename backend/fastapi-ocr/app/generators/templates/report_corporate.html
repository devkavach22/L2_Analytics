<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            margin: 40px;
            color: #333;
        }
        h1 {
            color: #1a4d8f;
            border-bottom: 2px solid #1a4d8f;
            padding-bottom: 8px;
        }
        h2 { color: #1a4d8f; margin-top: 40px; }
        h3 { color: #0b2e52; }
        .section { margin-bottom: 40px; }
        .finding {
            border-left: 4px solid #1a4d8f;
            padding-left: 12px;
            margin-bottom: 20px;
        }
        .kpi-table {
            width: 100%; border-collapse: collapse;
        }
        .kpi-table th {
            background: #1a4d8f; color: white; padding: 8px;
        }
        .kpi-table td {
            padding: 8px; border-bottom: 1px solid #ddd;
        }
    </style>
</head>
<body>

<h1>{{ report.title }}</h1>

<div class="section">
    <h2>Executive Summary</h2>
    <p>{{ report.executive_summary }}</p>
</div>

<div class="section">
    <h2>Key Findings</h2>
    {% for f in report.key_findings %}
    <div class="finding">
        <h3>{{ f.title }} ({{ f.severity }})</h3>
        <p>{{ f.description }}</p>
        {% if f.evidence %}<p><b>Evidence:</b> {{ f.evidence }}</p>{% endif %}
    </div>
    {% endfor %}
</div>

<div class="section">
    <h2>KPIs</h2>
    <table class="kpi-table">
        <tr>
            <th>Name</th><th>Value</th><th>Unit</th><th>Interpretation</th>
        </tr>
        {% for k in report.kpis %}
        <tr>
            <td>{{ k.name }}</td>
            <td>{{ k.value }}</td>
            <td>{{ k.unit }}</td>
            <td>{{ k.interpretation }}</td>
        </tr>
        {% endfor %}
    </table>
</div>

{% if report.risk_summary %}
<div class="section">
    <h2>Risk Analysis</h2>
    <p>{{ report.risk_summary }}</p>
</div>
{% endif %}

{% if report.cognitive_insights %}
<div class="section">
    <h2>Cognitive Insights</h2>
    <p>{{ report.cognitive_insights }}</p>
</div>
{% endif %}

{% if report.sentiment_trends %}
<div class="section">
    <h2>Sentiment Trends</h2>
    <pre>{{ report.sentiment_trends | tojson(indent=2) }}</pre>
</div>
{% endif %}

<div class="section">
    <h2>Recommendations</h2>
    <ul>
        {% for r in report.recommendations %}
        <li>{{ r }}</li>
        {% endfor %}
    </ul>
</div>

</body>
</html>
        